"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[971],{376:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(861),c=n(311),a=n.n(c),s={API_KEY:"5ff0c13d688b2eddbe0c220a112dc9cb",BASE_URL:"https://api.themoviedb.org/3/"},o=s.BASE_URL,i=s.API_KEY;function u(){return(u=(0,r.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"search/movie?api_key=").concat(i,"&query=").concat(t,"&page=").concat(n));case 2:if(!(r=e.sent).ok){e.next=9;break}return e.next=6,r.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("Not found"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return p=(0,r.Z)(a().mark((function e(){var t,n,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,e.next=3,fetch("".concat(o,"trending/movie/day?api_key=").concat(i,"&page=").concat(t));case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(){return(f=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"movie/").concat(t,"?api_key=").concat(i));case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("Not found"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"movie/").concat(t,"/credits?api_key=").concat(i));case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("Not found"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"movie/").concat(t,"/reviews?api_key=").concat(i,"&language=en-US&page=1"));case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("Not found"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d={fetchSearchByKeyword:function(e,t){return u.apply(this,arguments)},fetchTrending:function(){return p.apply(this,arguments)},fetchFullMovieInfo:function(e){return f.apply(this,arguments)},fetchFullMovieCredits:function(e){return h.apply(this,arguments)},fetchFullMovieReviews:function(e){return l.apply(this,arguments)}},x=d},140:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(152),c=n(791),a=n(271),s=n(523),o=n(376),i="App_link__91nmW",u="App_activeLink__Pj8iz App_link__91nmW",p=n(184),f=(0,c.lazy)((function(){return n.e(709).then(n.bind(n,256))})),h=(0,c.lazy)((function(){return n.e(753).then(n.bind(n,205))})),l=function(e){var t=e.page,n=(0,a.k6)(),l=(0,a.$B)(),d=l.url,x=l.path,v=(0,a.UO)().moviesId,k=(0,c.useState)(null),j=(0,r.Z)(k,2),m=j[0],_=j[1],b=(0,c.useState)(null),w=(0,r.Z)(b,2),y=w[0],g=w[1],Z=(0,c.useState)(null),A=(0,r.Z)(Z,2),E=A[0],S=A[1],N=(0,c.useState)("https://blankposter.com/wp-content/uploads/2021/11/Andrea_Busi_Wack-1-860x1204.jpg"),P=(0,r.Z)(N,2),C=P[0],B=P[1],I=(0,c.useState)(!1),L=(0,r.Z)(I,2),W=L[0],F=L[1];return(0,c.useEffect)((function(){if(!W)return o.Z.fetchFullMovieInfo(v).then((function(e){S(e),null!==e.poster_path&&B("https://image.tmdb.org/t/p/w300".concat(e.poster_path)),g("resolved")})).catch((function(e){_(e),g("rejected")})),function(){F(!0)}}),[v,W]),(0,p.jsxs)("div",{children:["rejected"===y&&(0,p.jsx)("h1",{children:m.massage}),"resolved"===y&&(0,p.jsxs)("div",{children:[(0,p.jsx)("hr",{}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{type:"button",onClick:function(){return n.push(t)},children:"Go back"})}),(0,p.jsx)("hr",{}),(0,p.jsx)("img",{src:C,alt:E.title}),(0,p.jsx)("hr",{}),(0,p.jsxs)("div",{children:["Additional information",(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:(0,p.jsx)(s.OL,{exact:!0,className:i,activeClassName:u,to:"".concat(d,"/casr"),children:"Casr"})}),(0,p.jsx)("li",{children:(0,p.jsx)(s.OL,{exact:!0,className:i,activeClassName:u,to:"".concat(d,"/reviews"),children:"Reviews"})})]}),(0,p.jsx)("hr",{}),(0,p.jsx)(c.Suspense,{fallback:(0,p.jsx)("h1",{children:"\u0417\u0410\u0413\u0420\u0423\u0416\u0410\u0415\u041c..."}),children:(0,p.jsxs)(a.rs,{children:[(0,p.jsx)(a.AW,{path:"".concat(x,"/casr"),exact:!0,children:(0,p.jsx)(f,{})}),(0,p.jsx)(a.AW,{path:"".concat(x,"/reviews"),exact:!0,children:(0,p.jsx)(h,{})})]})})]})]})]})}}}]);
//# sourceMappingURL=MovieDetailsPage.5520f35f.chunk.js.map