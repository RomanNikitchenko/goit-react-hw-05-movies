"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[410],{376:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(861),c=r(311),a=r.n(c),o={API_KEY:"5ff0c13d688b2eddbe0c220a112dc9cb",BASE_URL:"https://api.themoviedb.org/3/"},u=o.BASE_URL,s=o.API_KEY;function i(){return(i=(0,n.Z)(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u,"search/movie?api_key=").concat(s,"&query=").concat(t,"&page=").concat(r));case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("Not found"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return f=(0,n.Z)(a().mark((function e(){var t,r,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.next=3,fetch("".concat(u,"trending/movie/day?api_key=").concat(s,"&page=").concat(t));case 3:if(!(r=e.sent).ok){e.next=10;break}return e.next=7,r.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(){return(p=(0,n.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u,"movie/").concat(t,"?api_key=").concat(s));case 2:if(!(r=e.sent).ok){e.next=9;break}return e.next=6,r.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("Not found"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,n.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u,"movie/").concat(t,"/credits?api_key=").concat(s));case 2:if(!(r=e.sent).ok){e.next=9;break}return e.next=6,r.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("Not found"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,n.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u,"movie/").concat(t,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 2:if(!(r=e.sent).ok){e.next=9;break}return e.next=6,r.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("Not found"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d={fetchSearchByKeyword:function(e,t){return i.apply(this,arguments)},fetchTrending:function(){return f.apply(this,arguments)},fetchFullMovieInfo:function(e){return p.apply(this,arguments)},fetchFullMovieCredits:function(e){return h.apply(this,arguments)},fetchFullMovieReviews:function(e){return l.apply(this,arguments)}},b=d},207:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:function(){return h}});var o=r(152),u=r(791),s=r(523),i=r(271),f=r(376),p=r(184),h=function(e){var t=e.GoBack,r=(0,i.$B)().url,n=(0,i.k6)(),c=(0,i.TH)(),h=(0,u.useState)(""),l=(0,o.Z)(h,2),d=l[0],b=l[1],v=(0,u.useState)(1),y=(0,o.Z)(v,1)[0],x=(0,u.useState)(null),j=(0,o.Z)(x,2),k=j[0],w=j[1],m=(0,u.useState)(null),g=(0,o.Z)(m,2),O=g[0],_=g[1],P=(0,u.useState)(null),S=(0,o.Z)(P,2),E=S[0],Z=S[1];return(0,u.useEffect)((function(){if(""!==c.search){var e=new URLSearchParams(c.search).get("query");b(e),t("".concat(r).concat(c.search)),f.Z.fetchSearchByKeyword(e,y).then((function(e){Z(e.results),_("resolved")})).catch((function(e){w(e),_("rejected")}))}}),[n,c,y,t,r]),(0,p.jsxs)("div",{children:[(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==d.trim()?n.push(a(a({},c),{},{search:"query=".concat(d)})):alert("\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0444\u0438\u043b\u044c\u043c\u0430")},children:[(0,p.jsx)("button",{type:"submit",children:"\u043d\u0430\u0439\u0442\u0438"}),(0,p.jsx)("input",{type:"text",placeholder:"Search movies and photos",onChange:function(e){b(e.currentTarget.value.toLowerCase())},value:d})]}),"rejected"===O&&(0,p.jsx)("h1",{children:k.massage}),"resolved"===O&&(0,p.jsx)("ul",{children:E.map((function(e){return(0,p.jsx)("li",{children:(0,p.jsx)(s.rU,{to:"".concat(r,"/").concat(e.id),children:e.original_title})},e.id)}))})]})}}}]);
//# sourceMappingURL=MoviesPage.a6567297.chunk.js.map